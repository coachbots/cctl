Configuration
=============

**cctl** exposes some configuration files that you can use to tweak its
behavior. These configuration files are normally located either in
``~/.config/coachswarm/`` or ``/etc/coachswarm/``.

.. note:: **cctl** reads ``~/.config/coachswarm/`` configuration files first
   and falls back to ``/etc/coachswarm/`` files if those do not exist. If
   **cctl** is unable to find either of these files, it will automatically
   generate new files in ``~/.config/coachswarm/{cctl,coachswarm}.conf`` with
   sane defaults.

From now, the term ``$CONFDIR`` refers to the loaded configuration directory as
described. In ``$CONFDIR`` two configuration files are supported.

cctl.conf
---------

The ``$CONFDIR/cctl.conf`` file configures **cctl**â€™s behavior. The following
is an example file with all supported keys.

.. code-block:: ini
   :caption: cctl.conf

   [server]
   # The interface controlling the Coachbots. This is the interface that is
   # connected to the same network as the Coachbots.
   interface = enp60s0
   
   # The fully qualified path to the legacy server directory.
   path = /home/hanlin/coach/server_beta
   
   [coachswarm]
   # The fully qualified path to the coachswarm.conf file. This file is legacy
   # code but is fully necessary in running the coachswarm. The file specified
   # here will be used to control the coachbots.
   conf_path = /home/marko/.config/coachswarm/coachswarm.conf
   
   [camera]
   # The name of the raw device to be used as the input video stream. You can
   # find this with `cat /sys/class/video4linux/video*/name` of the appropriate
   # video* number.
   raw_dev_name = Piwebcam: UVC Camera
   
   # The name of the output processed video stream. This can be arbitrary, but
   # note that the resulting video stream generated by `cctl cam setup` will be
   # named however you named it here.
   processed_dev_name = Coachcam: Stream_Processed
   
   # Lens correction parameters. These are to be experimentally determined.
   # cx is the x-coordinate focal center offset relative to the frame center.
   # cy is the y-coordinate equivalent.
   k1 = -0.22
   k2 = -0.022
   cx = 0.52
   cy = 0.5

coachswarm.conf
---------------

The ``$CONFDIR/coachswarm.conf`` file controls some aspects of the coachswarm
configuration. The format of this file is `json`. Currently it only supports
the key `COM_RANGE` which controls the range at which the coachbots can
communicate.

.. code-block:: json
   :caption: coachswarm.conf

   {
      "COM_RANGE": 100.0
   }


When you're done configuring **cctl**, you can visit `Usage <usage.html>`_ for
information on how to effectively use **cctl**.
